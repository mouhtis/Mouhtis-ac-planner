<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MouhtisClima</title>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

<!-- jsPDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
    body {
        margin: 0;
        font-family: 'Inter', sans-serif;
        background: #f6f9fc;
        color: #003366;
    }

    header {
        background: #005bbb;
        padding: 15px 25px;
        color: white;
        font-size: 24px;
        font-weight: 600;
    }

    .container {
        max-width: 900px;
        margin: 30px auto;
        background: white;
        padding: 30px;
        border-radius: 8px;
        box-shadow: 0px 0px 10px rgba(0,0,0,0.08);
    }

    h2 {
        border-left: 5px solid #005bbb;
        padding-left: 10px;
    }

    input, select {
        width: 100%;
        margin-top: 7px;
        margin-bottom: 15px;
        padding: 10px;
        border: 1px solid #cfd7df;
        border-radius: 5px;
    }

    button {
        background: #005bbb;
        color: white;
        border: none;
        padding: 10px 18px;
        border-radius: 5px;
        cursor: pointer;
        font-weight: 600;
    }

    button:hover {
        background: #003f80;
    }

    .item-row {
        padding: 10px;
        margin-bottom: 10px;
        border-bottom: 1px solid #e6e6e6;
    }

    .result-box {
        background: #e9f3ff;
        padding: 15px;
        border-radius: 5px;
        margin-top: 20px;
    }

</style>
</head>

<body>

<header>MouhtisClima</header>

<div class="container">
    <h2>ğŸ“Œ Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î¥Î»Î¹ÎºÏÎ½ / Î•Î¾Î¿Ï€Î»Î¹ÏƒÎ¼Î¿Ï</h2>

    <label>Î ÎµÏÎ¹Î³ÏÎ±Ï†Î®</label>
    <input id="itemName" type="text" placeholder="Ï€.Ï‡. ÎšÎ»Î¹Î¼Î±Ï„Î¹ÏƒÏ„Î¹ÎºÏŒ 24.000 BTU">

    <label>ÎšÏŒÏƒÏ„Î¿Ï‚ (â‚¬)</label>
    <input id="itemCost" type="number" placeholder="Ï€.Ï‡. 850">

    <button onclick="addItem()">Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ·</button>

    <div id="itemsList"></div>

    <h2>ğŸ§° ÎšÏŒÏƒÏ„Î¿Ï‚ Î•ÏÎ³Î±ÏƒÎ¯Î±Ï‚</h2>

    <label>ÎšÏŒÏƒÏ„Î¿Ï‚ Î¤ÎµÏ‡Î½Î¹ÎºÎ¿Ï (â‚¬ / Î­ÏÎ³Î¿)</label>
    <input id="mainLabor" type="number" placeholder="Ï€.Ï‡. 300">

    <label>Î‘ÏÎ¹Î¸Î¼ÏŒÏ‚ Î²Î¿Î·Î¸ÏÎ½</label>
    <input id="assistants" type="number" placeholder="Ï€.Ï‡. 1">

    <label>ÎšÏŒÏƒÏ„Î¿Ï‚ Î±Î½Î¬ Î²Î¿Î·Î¸ÏŒ (â‚¬)</label>
    <input id="assistCost" type="number" placeholder="Ï€.Ï‡. 80">

    <button onclick="calculateTotal()">Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ Î£Ï…Î½Î¿Î»Î¹ÎºÎ¿Ï ÎšÏŒÏƒÏ„Î¿Ï…Ï‚</button>

    <div id="results" class="result-box" style="display:none;"></div>

    <button onclick="exportPDF()" style="margin-top:15px; background:#008800;">Î•Î¾Î±Î³Ï‰Î³Î® ÏƒÎµ PDF</button>

    <hr style="margin:40px 0;">

    <h2>ğŸ’¶ Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ Î¼Îµ Î’Î¬ÏƒÎ· ÎœÏ€Î¬Ï„Î¶ÎµÏ„</h2>

    <label>ÎœÏ€Î¬Ï„Î¶ÎµÏ„ (â‚¬)</label>
    <input id="budget" type="number" placeholder="Ï€.Ï‡. 2000">

    <label>Î¤Î¹ Ï‡ÏÎµÎ¹Î¬Î¶ÎµÏƒÎ±Î¹;</label>
    <input id="needs" type="text" placeholder="Ï€.Ï‡. 2 ÎºÎ»Î¹Î¼Î±Ï„Î¹ÏƒÏ„Î¹ÎºÎ¬ 12.000 BTU">

    <button onclick="budgetSuggestions()">Î ÏÏŒÏ„Î±ÏƒÎ· Î›ÏÏƒÎ·Ï‚</button>

    <div id="budgetResults" class="result-box" style="display:none;"></div>

</div>

<script>
let items = [];

function addItem() {
    const name = document.getElementById('itemName').value;
    const cost = Number(document.getElementById('itemCost').value);

    if (!name || !cost) {
        alert("Î£Ï…Î¼Ï€Î»Î®ÏÏ‰ÏƒÎµ Ï€ÎµÏÎ¹Î³ÏÎ±Ï†Î® ÎºÎ±Î¹ ÎºÏŒÏƒÏ„Î¿Ï‚.");
        return;
    }

    items.push({ name, cost });
    renderItems();
}

function renderItems() {
    const list = document.getElementById('itemsList');
    list.innerHTML = "";

    items.forEach((item, i) => {
        list.innerHTML += `
            <div class="item-row">
                <strong>${item.name}</strong> â€“ ${item.cost} â‚¬
                <button style="float:right; background:#bb0000;" onclick="removeItem(${i})">X</button>
            </div>`;
    });
}

function removeItem(index) {
    items.splice(index, 1);
    renderItems();
}

function calculateTotal() {
    let equipmentCost = items.reduce((sum, x) => sum + x.cost, 0);
    let labor = Number(document.getElementById('mainLabor').value) || 0;
    let assistants = Number(document.getElementById('assistants').value) || 0;
    let assistCost = Number(document.getElementById('assistCost').value) || 0;

    let laborTotal = labor + assistants * assistCost;
    let total = equipmentCost + laborTotal;

    let suggestions = "";
    if (equipmentCost > 1500) {
        suggestions += "â€¢ Î•Î¾Î­Ï„Î±ÏƒÎµ ÎµÎ½Î±Î»Î»Î±ÎºÏ„Î¹ÎºÎ¿ÏÏ‚ Ï€ÏÎ¿Î¼Î·Î¸ÎµÏ…Ï„Î­Ï‚ Î³Î¹Î± Î¼ÎµÎ¯Ï‰ÏƒÎ· ÎºÏŒÏƒÏ„Î¿Ï…Ï‚ Ï‡Ï‰ÏÎ¯Ï‚ Î±Ï€ÏÎ»ÎµÎ¹Î± Ï€Î¿Î¹ÏŒÏ„Î·Ï„Î±Ï‚.\n";
    }
    if (assistants > 2) {
        suggestions += "â€¢ ÎŠÏƒÏ‰Ï‚ Î¼ÎµÎ¹Ï‰Î¸ÎµÎ¯ Î¿ Î±ÏÎ¹Î¸Î¼ÏŒÏ‚ Î²Î¿Î·Î¸ÏÎ½ Î±Î½ Î´ÎµÎ½ Î±Ï€Î±Î¹Ï„ÎµÎ¯Ï„Î±Î¹.\n";
    }
    if (!suggestions) suggestions = "Î”ÎµÎ½ Î±Ï€Î±Î¹Ï„Î¿ÏÎ½Ï„Î±Î¹ Î¹Î´Î¹Î±Î¯Ï„ÎµÏÎµÏ‚ Ï€Î±ÏÎµÎ¼Î²Î¬ÏƒÎµÎ¹Ï‚.";

    const results = document.getElementById('results');
    results.style.display = "block";
    results.innerHTML = `
        <h3>ğŸ” Î‘Ï€Î¿Ï„ÎµÎ»Î­ÏƒÎ¼Î±Ï„Î±</h3>
        <p><strong>ÎšÏŒÏƒÏ„Î¿Ï‚ ÎµÎ¾Î¿Ï€Î»Î¹ÏƒÎ¼Î¿Ï:</strong> ${equipmentCost} â‚¬</p>
        <p><strong>ÎšÏŒÏƒÏ„Î¿Ï‚ ÎµÏÎ³Î±ÏƒÎ¯Î±Ï‚:</strong> ${laborTotal} â‚¬</p>
        <p><strong>Î£Ï…Î½Î¿Î»Î¹ÎºÏŒ ÎºÏŒÏƒÏ„Î¿Ï‚:</strong> <span style="font-size:20px;color:#005bbb;font-weight:700;">${total} â‚¬</span></p>
        <h4>Î ÏÎ¿Ï„Î¬ÏƒÎµÎ¹Ï‚ Î•Î¾Î¿Î¹ÎºÎ¿Î½ÏŒÎ¼Î·ÏƒÎ·Ï‚</h4>
        <pre>${suggestions}</pre>
    `;
}

function budgetSuggestions() {
    const budget = Number(document.getElementById('budget').value);
    const needs = document.getElementById('needs').value;

    if (!budget || !needs) {
        alert("Î£Ï…Î¼Ï€Î»Î®ÏÏ‰ÏƒÎµ Î¼Ï€Î¬Ï„Î¶ÎµÏ„ ÎºÎ±Î¹ Î±Î½Î¬Î³ÎºÎ·.");
        return;
    }

    let suggestion = "";
    if (budget < 800) {
        suggestion = "ÎœÎ¹ÎºÏÏŒ budget â€“ Ï€ÏÎ¿Ï„ÎµÎ¯Î½Î¿Î½Ï„Î±Î¹ Î»ÏÏƒÎµÎ¹Ï‚ inverter Î¼Î¹ÎºÏÏŒÏ„ÎµÏÎ·Ï‚ Î¹ÏƒÏ‡ÏÎ¿Ï‚.";
    } else if (budget < 1500) {
        suggestion = "ÎœÏ€Î¿ÏÎµÎ¯Ï‚ Î½Î± ÎºÎ±Î»ÏÏˆÎµÎ¹Ï‚ Î²Î±ÏƒÎ¹ÎºÎ­Ï‚ Î±Î½Î¬Î³ÎºÎµÏ‚ Î¼Îµ 1 ÏƒÏÏƒÏ„Î·Î¼Î± mid-range.";
    } else {
        suggestion = "Î¤Î¿ budget ÎµÏ€Î±ÏÎºÎµÎ¯ Î³Î¹Î± Ï€Î¿Î¹Î¿Ï„Î¹ÎºÎ¬ ÏƒÏ…ÏƒÏ„Î®Î¼Î±Ï„Î± Î® Ï€Î¿Î»Î»Î±Ï€Î»Î­Ï‚ Î¼Î¿Î½Î¬Î´ÎµÏ‚.";
    }

    const res = document.getElementById('budgetResults');
    res.style.display = "block";
    res.innerHTML = `
        <h3>ğŸ”§ Î‘Î½Î¬Î»Ï…ÏƒÎ· ÎœÏ€Î¬Ï„Î¶ÎµÏ„</h3>
        <p><strong>ÎœÏ€Î¬Ï„Î¶ÎµÏ„:</strong> ${budget} â‚¬</p>
        <p><strong>Î‘Î½Î¬Î³ÎºÎ·:</strong> ${needs}</p>
        <h4>Î ÏÏŒÏ„Î±ÏƒÎ·:</h4>
        <p>${suggestion}</p>
    `;
}

function exportPDF() {
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();

    const results = document.getElementById("results").innerText || "Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Î±Ï€Î¿Ï„ÎµÎ»Î­ÏƒÎ¼Î±Ï„Î±.";

    doc.text("MouhtisClima - Î‘Ï€Î¿Ï„ÎµÎ»Î­ÏƒÎ¼Î±Ï„Î± ÎœÎµÎ»Î­Ï„Î·Ï‚", 10, 10);
    doc.text(results, 10, 20);

    doc.save("MouhtisClima_Report.pdf");
}
</script>

</body>
</html>
